---
import menus from "../collections/menu.json";
import Logo from "../components/logo.astro";
---

<div class="relative w-full h-[60px] opacity-0 pointer-events-none"></div>
<header
  id="header"
  class="fixed top-0 z-50 w-full h-[60px] border-b border-pnw-sea-200 dark:border-pnw-sea-800/60 bg-white/80 dark:bg-slate-950/80 backdrop-blur-md transition-colors duration-300"
>
  <div
    class="flex items-center justify-between h-full mx-auto px-4 sm:px-6 max-w-7xl"
  >
    <!-- Left: Logo -->
    <div class="flex items-center mr-4 sm:mr-6">
      <Logo />
    </div>

    <!-- Center: Nav links (always visible) -->
    <nav class="flex items-center gap-3 sm:gap-8">
      {
        menus.map((menu) => {
          const isActive =
            Astro.url.pathname === menu.url ||
            (menu.url !== "/" && Astro.url.pathname.startsWith(menu.url));
          return (
            <a
              href={menu.url}
              class:list={[
                "font-mono text-xs font-semibold uppercase tracking-[0.05em] transition-colors duration-200 whitespace-nowrap",
                isActive
                  ? "text-pnw-sea-500 dark:text-pnw-sea-400"
                  : "text-pnw-stone-400 dark:text-pnw-stone-400 hover:text-pnw-stone-700 dark:hover:text-pnw-stone-200",
              ]}
            >
              {menu.name}
            </a>
          );
        })
      }
    </nav>

    <!-- Right: Dark mode toggle -->
    <div class="flex items-center ml-4 sm:ml-6">
      <div
        id="darkToggle"
        class="relative flex items-center cursor-pointer"
      >
        <div class="relative w-5 h-8 bg-pnw-sea-500/15 dark:bg-pnw-sea-400/15 rounded-sm border-2 border-pnw-sea-500/40 dark:border-pnw-sea-400/40 shadow-inner">
          <div
            id="switchKnob"
            class="absolute left-0.5 right-0.5 h-3 bg-pnw-sea-500 dark:bg-pnw-sea-400 rounded-sm shadow-md transition-all duration-300 ease-out top-[calc(100%-14px)] dark:top-0.5"
          ></div>
        </div>
      </div>
    </div>
  </div>
</header>
